<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Viagem.Log</title>
    <script src="./js/sessao.js"></script>
    <link rel="stylesheet" href="./css/style.css">
    <link rel="shortcut icon" href="./img/logo.png" type="image/x-icon">
</head>

<body>
    <header>
        <div class="topo">
            <div class="logo">
                <img src="./img/logo.png">
            </div>
            <div class="links">
                <a href="#">ENTRAR</a><span>|</span><a href="#">CADASTRAR</a>
            </div>
        </div>
        <nav class="navbar">
            <a href="#">Home</a>
            <span>•</span>
            <a href="#categorias">Categorias</a>
            <span>•</span>
            <a href="sobre.html">Sobre</a>
        </nav>
    </header>

    <main>
        <section class="formulario-cadastro">
            <h2>Cadastre-se!</h2>
            <form id="form-cadastro" enctype="multipart/form-data">
                <label for="nome">Nome:</label>
                <input type="text" id="nome" name="nome" required>
              
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" required>
              
                <label for="senha">Senha:</label>
                <input type="password" id="senha" name="senha" required>
              
                <label for="destino">Destino da Viagem:</label>
                <input type="text" id="destino" name="destino" required>
              
                <label for="dtViagem">Data da Viagem:</label>
                <input type="date" id="dtViagem" name="dtViagem" required>
              
                <label for="companhia">Companhia:</label>
                <select id="companhia" name="companhia" required>
                  <option value="sozinho">Sozinho</option>
                  <option value="amigos">Amigos</option>
                  <option value="conjuge">Cônjuge</option>
                  <option value="familia">Família</option>
                </select>
              
                <label for="categoria">Categoria:</label>
                <select id="categoria" name="categoria" required>
                  <option value="praia">Praia</option>
                  <option value="cidadegrande">Cidade Grande</option>
                  <option value="natureza">Natureza/Aventura</option>
                  <option value="historico">Histórico/Cultural</option>
                </select>

                <label for="comentario">Comentário:</label>
                <input type="text" id="comentario" name="comentario" required>

                <label for="foto">Foto da Viagem:</label>
                <input type="file" id="foto" name="foto" accept="image/*">
              
                <button type="submit">Cadastrar</button>
              </form>
        </section>
    </main>

    <footer>
        <div class="container-footer">
            <div id="social">
                <a href="https://www.linkedin.com/in/camila-yukari-jodai-330676271/" target="_blank"><img
                        src="./img/linkedin.png"></a>
                <a href="https://github.com/CamilaYukariJodai" target="_blank"><img src="./img/github.png"></a>
            </div>
            <div id="copyright">
                <p>© 2025 - Viagem.Log / Este site é um projeto de aprendizagem</p>
            </div>
        </div>
    </footer>

    <script>
        document.getElementById("form-cadastro").addEventListener("submit", function (event) {
            event.preventDefault();

            const nome = document.getElementById("nome").value;
            const email = document.getElementById("email").value;
            const senha = document.getElementById("senha").value;
            const destino = document.getElementById("destino").value;
            const dtViagem = document.getElementById("dtViagem").value;
            const companhia = document.getElementById("companhia").value;
            const categoria = document.getElementById("categoria").value;
            const comentario = document.getElementById("comentario").value;

            fetch("http://localhost:3000/cadastrar", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    nome,
                    email,
                    senha,
                    destino,
                    dtViagem,
                    companhia,
                    categoria,
                    comentario
                })
            })
                .then(res => res.ok ? alert("Cadastro realizado com sucesso!") : alert("Erro ao cadastrar."))
                .catch(err => {
                    console.error("Erro:", err);
                    alert("Erro na requisição.");
                });
        });
    </script>
</body>

</html>